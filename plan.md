# План автоматизации тестирования страницы покупки тура (Марракеш)


**Исполнитель:** QA Automation Engineer (Java)  
**Инструменты:** Gradle, Java, JUnit 5, Selenide, Docker, Allure, IntelliJ IDEA, Git, GitHub, Faker, MySQL.
## Общие данные для тестирования 

| Категория данных | Характеристика | Примеры валидных значений |
| --- | --- | --- |
| **Номер карты** | 16 цифр, соответствует алгоритму Луна (Visa/Mastercard) | `1111 2222 3333 4444` (Visa) |
| **Срок действия (месяц)** | Значения от `01` до `12` | `текущий месяц` |
| **Срок действия (год)** | Текущий или будущий год, формат `YY` |`текущий год` |
| **Имя владельца** | - Только латинские буквы<br>- Формат: «Имя Фамилия»<br>- До 26 символов | `ANNA IVANOVA` |
| **CVC/CVV** | Ровно 3 цифры | `123` |

## 1. Таблица тест‑кейсов (сценариев автоматизации)

| ID | Название сценария | Тип кейса | Приоритет | Предусловия |  Шаги выполнения  | Ожидаемые результаты по шагам |
|----|----------------|---------|----------|------------|------------------------|-----------------------------|
| TC‑001 | Успешная покупка тура с корректными данными карты | Позитивный | Высокий | 1. Страница тура доступна.<br>2. Docker с MySQL запущен.<br>3. Подготовлены валидные данные карты. | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Заполнить все поля формы валидными данными.<br>4. Нажать кнопку «Продолжить».<br>5. Дождаться сообщения об успешной транзакции.<br>6. Проверить запись в БД. | 1. Отображается форма оформления покупки.<br>2. Открывается форма заполнения данных карты.<br>3. Все поля успешно заполняются, нет сообщений об ошибках.<br>4. Начинается обработка платежа.<br>5. Отображается сообщение «Покупка успешна».<br>6. В БД присутствует запись со статусом `Approved` и совпадающими ID заказа и покупки. |
| TC‑002 | Покупка с отклонённой картой (DECLINED) | Негативный | Высокий | 1. Страница тура доступна.<br>2. Подготовлены данные карты с статусом DECLINED. | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести номер карты с статусом DECLINED.<br>4. Заполнить остальные поля валидными данными.<br>5. Нажать кнопку «Продолжить».<br>6. Дождаться отображения сообщения об ошибке. | 1. Отображается форма оформления покупки.<br>2. Открывается форма заполнения данных карты.<br>3. Номер карты успешно введён.<br>4. Остальные поля успешно заполнены.<br>5. Начинается обработка платежа.<br>6. Отображается сообщение «Карта отклонена», в БД нет записи о транзакции. |
| TC‑003 | Валидация поля «Номер карты»: слишком короткий номер | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлен номер карты 15 цифр. Например:`1111 2222 3333 444` | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести слишком короткий номер карты.<br>4. Заполнить остальные поля валидными данными.<br>5. Нажать кнопку «Продолжить». | 1. Отображается форма оформления покупки.<br>2. Открывается форма заполнения данных карты.<br>3. Номер карты введён, система отмечает ошибку.<br>4. Остальные поля заполняются без ошибок.<br>5. Форма не отправляется, отображается сообщение «Неверный формат номера карты». |
| TC‑004 | Валидация поля «Номер карты»: слишком длинный номер | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлен номер карты 17 цифр. Например:`1111 2222 3333 44445` | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести слишком длинный номер карты.<br>4. Заполнить остальные поля валидными данными.<br>5. Нажать кнопку «Продолжить». | 1. Отображается форма оформления покупки.<br>2. Открывается форма заполнения данных карты.<br>3. Номер карты введён, система отмечает ошибку.<br>4. Остальные поля заполняются без ошибок.<br>5. Форма не отправляется, отображается сообщение «Неверный формат номера карты». |
| TC‑005 | Валидация поля «Номер карты»: символы вместо цифр | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлен номер карты с буквенными/специальными символами. Например:`1111 2222 33A3 4444`  | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Попытаться ввести номер карты с недопустимыми символами.<br>4. Заполнить остальные поля валидными данными.<br>5. Нажать кнопку «Продолжить». | 1. Отображается форма оформления покупки.<br>2. Открывается форма заполнения данных карты.<br>3. Поле принимает только цифры, остальные символы игнорируются.<br>4. Остальные поля заполняются без ошибок.<br>5. Форма не отправляется, отображается сообщение «Неверный формат номера карты». |
| TC‑006 | Валидация поля «Месяц»: значение 00 | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлено значение «00» для поля «Месяц». | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести «00» в поле «Месяц».<br>4. Заполнить остальные поля валидными данными.<br>5. Нажать кнопку «Продолжить». | 1. Отображается форма оформления покупки.<br>2. Открывается форма заполнения данных карты.<br>3. Значение «00» введено, система отмечает ошибку.<br>4. Остальные поля заполняются без ошибок.<br>5. Форма не отправляется, отображается сообщение «Неверный формат месяца». |
| TC‑007 | Валидация поля «Месяц»: значение 13 | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлено значение «13» для поля «Месяц». | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести «13» в поле «Месяц».<br>4. Заполнить остальные поля валидными данными.<br>5. Нажать кнопку «Продолжить». | 1. Отображается форма оформления покупки.<br>2. Открывается форма заполнения данных карты.<br>3. Значение «13» введено, система отмечает ошибку.<br>4. Остальные поля заполняются без ошибок.<br>5. Форма не отправляется, отображается сообщение «Неверный формат месяца». |
| TC‑008 | Валидация поля «Месяц»: буквы вместо цифр | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлены буквенные символы для поля «Месяц». Например: `1B` | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Попытаться ввести буквы в поле «Месяц».<br>4. Заполнить остальные поля валидными данными.<br>5. Нажать кнопку «Продолжить». | 1. Отображается форма оформления покупки.<br>2. Открывается форма заполнения данных карты.<br>3.  Поле принимает только цифры, остальные символы игнорируются.<br>4. Остальные поля заполняются без ошибок.<br>5. Форма не отправляется, отображается сообщение «Неверный формат месяца». |
| TC‑009 | Валидация поля «Год»: прошлый год | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлен год, предшествующий текущему. | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести прошлый год в поле «Год».<br>4. Заполнить остальные поля валидными данными.<br>5. Нажать кнопку «Продолжить». | 1. Отображается форма оформления покупки.<br>2. Открывается форма заполнения данных карты.<br>3. Прошлый год введён, система отмечает ошибку.<br>4. Остальные поля заполняются без ошибок.<br>5. Форма не отправляется, отображается сообщение «Истёк срок действия карты». |
| TC‑010 | Валидация поля «Год»: далёкий будущий год | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлен год, значительно превышающий допустимый. Например: `99` | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести далёкий будущий год в поле «Год».<br>4. Заполнить остальные поля валидными данными.<br>5. Нажать кнопку «Продолжить». | 1. Отображается форма оформления покупки.<br>2. Открывается форма заполнения данных карты.<br>3. Далёкий будущий год введён, система отмечает ошибку.<br>4. Остальные поля заполняются без ошибок.<br>5. Форма не отправляется, отображается сообщение «Неверный формат года». |
| TC‑011 | Валидация поля «Владелец»: кириллические символы | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлено имя владельца на кириллице. Например: `АНАСТАСИЯ ИВАНОВА` | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести кириллическое имя в поле «Владелец».<br>4. Заполнить остальные поля валидными данными.<br>5. Нажать кнопку «Продолжить». | 1. Отображается форма оформления покупки.<br>2. Открывается форма заполнения данных карты.<br>3. Кириллическое имя введено, система отмечает ошибку валидации.<br>4. Остальные поля заполняются без ошибок.<br>5. Форма не отправляется, отображается сообщение «Неверный формат имени владельца». |
| TC‑012 | Валидация поля «Владелец»: цифры вместо букв | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлены цифровые символы для поля «Владелец». Например: `ANAST12SIA 22NOVA` | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести цифры в поле «Владелец».<br>4. Заполнить остальные поля валидными данными.<br>5. Нажать кнопку «Продолжить». | 1. Отображается форма оформления покупки.<br>2. Открывается форма заполнения данных карты.<br>3. Цифры введены в поле «Владелец», система отмечает ошибку валидации.<br>4. Остальные поля заполняются без ошибок.<br>5. Форма не отправляется, отображается сообщение «Неверный формат имени владельца». |
| TC‑013 | Валидация поля «CVC/CVV»: 2 цифры | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлено двузначное число для CVC/CVV. Например: `12` | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести 2 цифры в поле CVC/CVV.<br>4. Заполнить остальные поля валидными данными.<br>5. Нажать кнопку «Продолжить». | 1. Отображается форма оформления покупки.<br>2. Открывается форма заполнения данных карты.<br>3. Введено 2 цифры, система отмечает ошибку валидации.<br>4. Остальные поля заполняются без ошибок.<br>5. Форма не отправляется, отображается сообщение «Неверный формат CVC/CVV». |
| TC‑014 | Валидация поля «CVC/CVV»: 4 цифры | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлено четырёхзначное число для CVC/CVV. Например: `1234` | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести 4 цифры в поле CVC/CVV.<br>4. Заполнить остальные поля валидными данными.<br>5. Нажать кнопку «Продолжить». | 1. Отображается форма оформления покупки.<br>2. Открывается форма заполнения данных карты.<br>3. Введено 4 цифры, система отмечает ошибку валидации.<br>4. Остальные поля заполняются без ошибок.<br>5. Форма не отправляется, отображается сообщение «Неверный формат CVC/CVV». |
| TC‑015 | Валидация поля «CVC/CVV»: буквы вместо цифр | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлены буквенные символы для поля CVC/CVV. Например: `1A2` | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Попытаться ввести буквы в поле CVC/CVV.<br>4. Заполнить остальные поля валидными данными.<br>5. Нажать кнопку «Продолжить». | 1. Отображается форма оформления покупки.<br>2. Открывается форма заполнения данных карты.<br>3. Поле принимает только цифры, остальные символы игнорируются. <br>4. Остальные поля заполняются без ошибок.<br>5. Форма не отправляется, отображается сообщение «Неверный формат CVC/CVV». |
| TC‑016 | Пустое поле «Номер карты» | Негативный | Высокий | 1. Страница тура доступна.<br>2. Остальные поля заполнены валидными данными. | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Оставить поле «Номер карты» пустым.<br>4. Заполнить остальные поля валидными данными.<br>5. Нажать кнопку «Продолжить». | 1. Отображается форма оформления покупки.<br>2. Открывается форма заполнения данных карты.<br>3. Поле «Номер карты» оставлено пустым, система отмечает ошибку.<br>4. Остальные поля заполняются без ошибок.<br>5. Форма не отправляется, отображается сообщение об ошибке для поля «Номер карты», в БД нет записи о транзакции. |
| TC‑017 | Пустое поле «Срок действия карты» | Негативный | Высокий | 1. Страница тура доступна.<br>2. Остальные поля заполнены валидными данными. | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Оставить поле «Срок действия карты» пустым.<br>4. Заполнить остальные поля валидными данными.<br>5. Нажать кнопку «Продолжить». | 1. Отображается форма оформления покупки.<br>2. Открывается форма заполнения данных карты.<br>3. Поле «Срок действия карты» оставлено пустым, система отмечает ошибку.<br>4. Остальные поля заполняются без ошибок.<br>5. Форма не отправляется, отображается сообщение об ошибке для поля «Срок действия карты», в БД нет записи о транзакции. |
| TC‑018 | Пустое поле «Имя владельца карты» | Негативный | Высокий | 1. Страница тура доступна.<br>2. Остальные поля заполнены валидными данными. | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Оставить поле «Имя владельца карты» пустым.<br>4. Заполнить остальные поля валидными данными.<br>5. Нажать кнопку «Продолжить». | 1. Отображается форма оформления покупки.<br>2. Открывается форма заполнения данных карты.<br>3. Поле «Имя владельца карты» оставлено пустым, система отмечает ошибку.<br>4. Остальные поля заполняются без ошибок.<br>5. Форма не отправляется, отображается сообщение об ошибке для поля «Имя владельца карты», в БД нет записи о транзакции. |
| TC‑019 | Пустое поле «CVC/CVV» | Негативный | Высокий | 1. Страница тура доступна.<br>2. Остальные поля заполнены валидными данными. | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Оставить поле «CVC/CVV» пустым.<br>4. Заполнить остальные поля валидными данными.<br>5. Нажать кнопку «Продолжить». | 1. Отображается форма оформления покупки.<br>2. Открывается форма заполнения данных карты.<br>3. Поле «CVC/CVV» оставлено пустым, система отмечает ошибку.<br>4. Остальные поля заполняются без ошибок.<br>5. Форма не отправляется, отображается сообщение об ошибке для поля «CVC/CVV», в БД нет записи о транзакции. |

## 2. Инструменты

- **Selenide** — имитация действий пользователя.
- **JUnit** (Java)  — структурирование тестов.
- **Git** — контроль версий.
- **Gradle** (Java) — управление зависимостями.
- **Allure Reports** — отчёты с скриншотами и логами.
- **Docker** — кросс‑браузерное тестирование.
- **GitHub CI** — запуск тестов.
- **Lombok** -генерация кода при компиляции 
- **Faker** - тестовые данные
- **IntelliJ IDEA** - среда разработки программного обеспечения для написания кода.

**Обоснование выбора:**
- Selenide — стандарт для веб‑автоматизации.
- JUnit — гибкие фреймворки с параметризацией.
- Allure — детализированные отчёты.
- Docker — изоляция окружений.
- Faker - библиотека, для генерации тестовых данных.
- Lombok- библиотека, которая сокращает объем стандартного кода в классах. Позволяет добавлять аннотации, и генерирует код во время компиляции.



## 3. Риски и меры минимизации


| Риск | Мера минимизации |
|---|---|
| Изменение UI/UX (ломка локаторов) | Применять шаблон Page Object Model, использовать стабильные селекторы (data‑атрибуты, ID), регулярно проверять актуальность локаторов при изменениях интерфейса. |
| Динамические элементы (неуспевающая загрузка, таймауты) | Настраивать явные и неявные ожидания в Selenide, задавать разумные таймауты (5–10 с), логировать время загрузки элементов для выявления «медленных» мест. |
| Неполные тестовые данные (пропуски сценариев) | Формировать матрицу покрытия данных, использовать Faker для генерации данных, проверять наличие валидных и невалидных сценариев для каждого кейса. |
| Изменение бизнес‑логики (неактуальные тесты) | Следить за обновлениями требований, версионировать тесты, планировать рефакторинг автотестов каждые 5–6 месяцев. |
| Нестабильность API платёжной системы | Реализовать механизм повторных попыток (2–3 раза с задержкой 1–2 с), установить таймауты для запросов (10–15 с), использовать моковые ответы для критических сценариев. |
| Утечка конфиденциальных данных | Не хранить секреты в коде.|
| Проблемы с Docker‑контейнерами | Фиксировать версии образов в `docker-compose.yml`, добавлять healthcheck для сервисов, очищать контейнеры после тестов (`docker-compose down -v`). |


## 4. Обязанности QA Automation Engineer (Java)

Специалист единолично выполняет:
- разработку и поддержку автотестов на Java (JUnit 5 + Selenide) с использованием  CSS‑селекторов;
- настройку тестового окружения через Docker (контейнеры MySQL);
- интеграцию с CI/CD (GitHub Actions) и генерацию отчётов Allure;
- работу с БД MySQL (написание SQL‑запросов, проверка статусов транзакций);
- генерацию тестовых данных с помощью Faker;
- версионирование кода через Git/GitHub;
- анализ результатов тестов и фиксацию дефектов в Git Hub Issues;
- документирование тестов и отчётов.

## 5. Временная оценка (с резервом 20 %)

| Этап | Часы (основной расчёт) | Резерв (20 %) | Итого с резервом |
|------|--------------------|--------------|---------------|
| Анализ требований и проектирование тестов | 6–8 | 1–2 | **7–10** |
| Разработка автотестов (JUnit 5 + Selenide) | 28–35 | 6–7 | **34–42** |
| Настройка Docker‑окружения (MySQL, веб) | 6–7 | 1–1 | **7–8** |
| Интеграция с Allure и CI/CD (GitHub Actions) | 7–8 | 1–2 | **8–10** |
| **Итого** | **47–58** | **9–12** | **56–70** |

### **План сдачи работ**

  - **1.** Планирование автоматизации тестирования до 05.12.2025 г.
  - **2.** Настройка окружения, написание и отладка автотестов до 10.12.2025 г.
  - **3.** Подготовка отчётных документов по итогам автоматизированного тестирования до 13.12.2025 г.
  - **4.** Подготовка отчётных документов по итогам автоматизации до 17.12.2025 г.
