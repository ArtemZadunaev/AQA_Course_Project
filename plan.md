# План автоматизации тестирования страницы покупки тура (Марракеш)


**Исполнитель:** QA Automation Engineer (Java)  
**Инструменты:** Gradle, Java, JUnit 5, Selenide, Docker, Allure, IntelliJ IDEA, Git, GitHub, Faker, MySQL.

## 1. Таблица тест‑кейсов (сценариев автоматизации)

| ID | Название сценария | Тип кейса | Приоритет | Предусловия | Шаги выполнения | Ожидаемый результат |
|----|----------------|---------|----------|------------|----------------|--------------------|
| TC‑001 | Успешная покупка тура с корректными данными карты | Позитивный | Высокий | 1. Страница тура доступна.<br>2. Docker с MySQL запущен.<br>3. Подготовлены валидные данные карты. | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Заполнить все поля формы валидными данными (номер карты, срок действия, имя владельца, CVC/CVV).<br>4. Нажать кнопку «Продолжить».<br>5. Дождаться сообщения об успешной транзакции.<br>6. Проверить запись в БД. | 1. Отображается сообщение об успешной покупке.<br>2. Начисляются 33 360 миль.<br>3. В БД создана запись со статусом `Approved` и совпадением ID заказа и покупки. |
| TC‑002 | Покупка с отклонённой картой (DECLINED) | Негативный | Высокий | 1. Страница тура доступна.<br>2. Подготовлены данные карты с статусом DECLINED. | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести данные отклонённой карты.<br>4. Нажать кнопку «Продолжить».<br>5. Дождаться отображения сообщения об ошибке. | 1. Отображается сообщение «Карта отклонена».<br>2. В БД нет записи о транзакции. |
| TC‑003 | Валидация поля «Номер карты»: слишком короткий номер | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлен номер карты короче допустимого. | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести слишком короткий номер карты.<br>4. Нажать кнопку «Продолжить». | 1. Отображается сообщение «Неверный формат номера карты».<br>2. Форма не отправляется. |
| TC‑004 | Валидация поля «Номер карты»: слишком длинный номер | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлен номер карты длиннее допустимого. | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести слишком длинный номер карты.<br>4. Нажать кнопку «Продолжить». | 1. Отображается сообщение «Неверный формат номера карты».<br>2. Форма не отправляется. |
| TC‑005 | Валидация поля «Номер карты»: символы вместо цифр | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлен номер карты с буквенными/специальными символами. | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести номер карты с недопустимыми символами.<br>4. Нажать кнопку «Продолжить». | 1. Отображается сообщение «Неверный формат номера карты».<br>2. Форма не отправляется. |
| TC‑006 | Валидация поля «Месяц»: значение 00 | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлено значение «00» для поля «Месяц». | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести «00» в поле «Месяц».<br>4. Нажать кнопку «Продолжить». | 1. Отображается сообщение «Неверный формат месяца».<br>2. Форма не отправляется. |
| TC‑007 | Валидация поля «Месяц»: значение 13 | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлено значение «13» для поля «Месяц». | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести «13» в поле «Месяц».<br>4. Нажать кнопку «Продолжить». | 1. Отображается сообщение «Неверный формат месяца».<br>2. Форма не отправляется. |
| TC‑008 | Валидация поля «Месяц»: буквы вместо цифр | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлены буквенные символы для поля «Месяц». | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести буквы в поле «Месяц».<br>4. Нажать кнопку «Продолжить». | 1. Отображается сообщение «Неверный формат месяца».<br>2. Форма не отправляется. |
| TC‑009 | Валидация поля «Год»: прошлый год | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлен год, предшествующий текущему. | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести прошлый год в поле «Год».<br>4. Нажать кнопку «Продолжить». | 1. Отображается сообщение «Истёк срок действия карты».<br>2. Форма не отправляется. |
| TC‑010 | Валидация поля «Год»: далёкий будущий год | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлен год, значительно превышающий допустимый. | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести далёкий будущий год в поле «Год».<br>4. Нажать кнопку «Продолжить». | 1. Отображается сообщение «Неверный формат года».<br>2. Форма не отправляется. |
| TC‑011 | Валидация поля «Владелец»: кириллические символы | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлено имя владельца на кириллице. | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести кириллическое имя в поле «Владелец».<br>4. Нажать кнопку «Продолжить». | 1. Отображается сообщение «Неверный формат имени владельца».<br>2. Форма не отправляется. |
| TC‑012 | Валидация поля «Владелец»: цифры вместо букв | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлены цифровые символы для поля «Владелец». | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести цифры в поле «Владелец».<br>4. Нажать кнопку «Продолжить». | 1. Отображается сообщение «Неверный формат имени владельца».<br>2. Форма не отправляется. |
| TC‑013 | Валидация поля «CVC/CVV»: 2 цифры | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлено двузначное число для CVC/CVV. | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести 2 цифры в поле CVC/CVV.<br>4. Нажать кнопку «Продолжить». | 1. Отображается сообщение «Неверный формат CVC/CVV».<br>2. Форма не отправляется. |
| TC‑014 | Валидация поля «CVC/CVV»: 4 цифры | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлено четырёхзначное число для CVC/CVV. | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести 4 цифры в поле CVC/CVV.<br>4. Нажать кнопку «Продолжить». | 1. Отображается сообщение «Неверный формат CVC/CVV».<br>2. Форма не отправляется. |
| TC‑015 | Валидация поля «CVC/CVV»: буквы вместо цифр | Негативный | Средний | 1. Страница тура доступна.<br>2. Подготовлены буквенные символы для поля CVC/CVV. | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить».<br>3. Ввести буквы в поле CVC/CVV.<br>4. Нажать кнопку «Продолжить». | 1. Отображается сообщение «Неверный формат CVC/CVV».<br>2. Форма не отправляется. |
| TC‑016 | Проверка кнопки «Купить в кредит» | Позитивный | Высокий | Страница тура доступна. | 1. Открыть страницу тура.<br>2. Нажать кнопку «Купить в кредит». | 1. Происходит перенаправление на страницу условий кредитования.<br>2. Отображаются условия кредитных предложений. |

## 2. Инструменты

- **Selenide** — имитация действий пользователя.
- **JUnit** (Java)  — структурирование тестов.
- **Git** — контроль версий.
- **Gradle** (Java) — управление зависимостями.
- **Allure Reports** — отчёты с скриншотами и логами.
- **Docker** — кросс‑браузерное тестирование.
- **GitHub CI** — запуск тестов.
- **Lombok** -генерация кода при компиляции 
- **Faker** - тестовые данные
- **IntelliJ IDEA** - среда разработки программного обеспечения для написания кода.

**Обоснование выбора:**
- Selenide — стандарт для веб‑автоматизации.
- JUnit — гибкие фреймворки с параметризацией.
- Allure — детализированные отчёты.
- Docker — изоляция окружений.
- Faker - библиотека, для генерации тестовых данных.
- Lombok- библиотека, которая сокращает объем стандартного кода в классах. Позволяет добавлять аннотации, и генерирует код во время компиляции.



## 3. Риски и меры минимизации


| Риск | Мера минимизации |
|------|---------------|
| Изменение UI/UX | Регулярный аудит и обновление CSS‑селекторов; использование стабильных классов и идентификаторов |
| Нестабильность API платёжной системы | Реализация механизмов повторных попыток; установка разумных таймаутов |
| Ошибки синхронизации элементов интерфейса | Использование явных и неявных ожиданий Selenide |
| Утечка конфиденциальных данных | Шифрование чувствительных данных; хранение в переменных окружения, а не в коде |
| Проблемы с Docker‑контейнерами | Проверка совместимости версий образов; использование `docker-compose.yml` для оркестрации |
| Ограниченная валидность тестовых данных | Расширение набора тестовых данных (включая пограничные случаи) |

## 4. Обязанности QA Automation Engineer (Java)

Специалист единолично выполняет:
- разработку и поддержку автотестов на Java (JUnit 5 + Selenide) с использованием  CSS‑селекторов;
- настройку тестового окружения через Docker (контейнеры MySQL);
- интеграцию с CI/CD (GitHub Actions) и генерацию отчётов Allure;
- работу с БД MySQL (написание SQL‑запросов, проверка статусов транзакций);
- генерацию тестовых данных с помощью Faker;
- версионирование кода через Git/GitHub;
- анализ результатов тестов и фиксацию дефектов в Git Hub Issues;
- документирование тестов и отчётов.

## 5. Временная оценка (с резервом 20 %)

| Этап | Часы (основной расчёт) | Резерв (20 %) | Итого с резервом |
|------|--------------------|--------------|---------------|
| Анализ требований и проектирование тестов | 6–8 | 1–2 | **7–10** |
| Разработка автотестов (JUnit 5 + Selenide) | 28–35 | 6–7 | **34–42** |
| Настройка Docker‑окружения (MySQL, веб) | 6–7 | 1–1 | **7–8** |
| Интеграция с Allure и CI/CD (GitHub Actions) | 7–8 | 1–2 | **8–10** |
| **Итого** | **47–58** | **9–12** | **56–70** |

### **План сдачи работ**

  - **1.** Планирование автоматизации тестирования до 05.12.2025 г.
  - **2.** Настройка окружения, написание и отладка автотестов до 10.12.2025 г.
  - **3.** Подготовка отчётных документов по итогам автоматизированного тестирования до 13.12.2025 г.
  - **4.** Подготовка отчётных документов по итогам автоматизации до 17.12.2025 г.
